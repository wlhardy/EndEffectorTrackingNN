Bootstrap: docker
From: pytorch/pytorch:2.8.0-cuda12.9-cudnn9-runtime

%environment
    export LD_LIBRARY_PATH=/opt/conda/lib:/usr/local/cuda/lib64:/usr/local/lib:/usr/lib/x86_64-linux-gnu:$LD_LIBRARY_PATH
    export REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt

%files
    ../requirements.txt /requirements.txt

%post
    pip install --upgrade pip
    pip install -r /requirements.txt

%runscript
    exec python3 /home/wilah/workspace/EndEffectorTrackingNN/train_token.py "$@"

%labels
    Author wilah
    Version v1.0
    ContactEmail william.larrivee-hardy@norlab.ulaval.ca
